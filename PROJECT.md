# PROJECT.md ‚Äî RIZALTA AI SYSTEM

## ü§ñ CLAUDE: –°–¢–ê–†–¢ –°–ï–°–°–ò–ò

**–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:**
1. –ü—Ä–æ—á–∏—Ç–∞–π —Å–µ–∫—Ü–∏—é QUICK INFO ‚Äî –ø–æ–π–º–∏ —á—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç
2. –ü—Ä–æ—á–∏—Ç–∞–π HANDOFF ‚Äî –ø–æ–π–º–∏ –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å
3. –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª—ã –∏–∑ —Å–µ–∫—Ü–∏–∏ –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
4. –°–∫–∞–∂–∏ —á—Ç–æ –ø–æ–Ω—è–ª –∏ —Å–ø—Ä–æ—Å–∏ –∑–∞–¥–∞—á—É

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞:**
- `–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–µ–º` ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, commit, push (–æ–±–∞ —Ä–µ–ø–æ)
- `–ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–æ–≤—ã–π —á–∞—Ç` ‚Üí –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è + –≤—ã–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç —Ñ–∞–π–ª

**–°—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
https://raw.githubusercontent.com/semiekhin/developer-standards/main/DEV_STANDARD.md

---

## üìã QUICK INFO

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –ü—Ä–æ–µ–∫—Ç | RIZALTA AI SYSTEM ‚Äî AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –¥–ª—è —Ä–∏—ç–ª—Ç–æ—Ä–æ–≤ |
| –ü—Ä–æ–¥—É–∫—Ç | –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å RIZALTA Resort Belokurikha (–ê–ª—Ç–∞–π) |
| –í–µ—Ä—Å–∏—è | 1.9.6 |
| –°—Ç–µ–∫ | Python 3.12 ¬∑ FastAPI ¬∑ OpenAI GPT-4o-mini ¬∑ Whisper ¬∑ SQLite |
| Prod –±–æ—Ç | @RealtMeAI_bot |
| Dev –±–æ—Ç | @rizaltatestdevop_bot |

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
- Dev: https://github.com/semiekhin/rizalta-bot-dev
- Prod: https://github.com/semiekhin/rizalta-bot

**–°–µ—Ä–≤–µ—Ä:**
```bash
ssh -p 2222 root@72.56.64.91
```

**–ü—É—Ç–∏:**
- `/opt/bot` ‚Äî prod (webhook, –ø–æ—Ä—Ç 8000)
- `/opt/bot-dev` ‚Äî dev (polling)

---

## üîê –°–ï–ö–†–ï–¢–´

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ì–¥–µ –ª–µ–∂–∏—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|-----------|------------|
| TELEGRAM_BOT_TOKEN | /opt/bot/.env | Prod –±–æ—Ç —Ç–æ–∫–µ–Ω |
| TELEGRAM_BOT_TOKEN_DEV | /opt/bot-dev/.env | Dev –±–æ—Ç —Ç–æ–∫–µ–Ω |
| OPENAI_API_KEY | .env | GPT-4o-mini, Whisper |
| ADMIN_CHAT_ID | .env | Telegram ID –∞–¥–º–∏–Ω–∞ |

**–ü—Ä–∞–≤–∏–ª–æ:** —Ç–æ–∫–µ–Ω—ã –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å, —Ç–æ–ª—å–∫–æ –≤ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê
```
rizalta-bot/
‚îú‚îÄ‚îÄ app.py                 # Webhook, —Ä–æ—É—Ç–∏–Ω–≥ callback'–æ–≤
‚îú‚îÄ‚îÄ run_polling.py         # Dev —Ä–µ–∂–∏–º
‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ menu.py            # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ ai_chat.py         # AI –¥–∏–∞–ª–æ–≥–∏ (GPT + Whisper)
‚îÇ   ‚îú‚îÄ‚îÄ kp.py              # –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ media.py           # –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, –≤–∏–¥–µ–æ
‚îÇ   ‚îú‚îÄ‚îÄ compare.py         # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç vs RIZALTA
‚îÇ   ‚îú‚îÄ‚îÄ booking_fixation.py # –§–∏–∫—Å–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ news.py            # –ò–Ω–≤–µ—Å—Ç-–¥–∞–π–¥–∂–µ—Å—Ç
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ telegram.py        # Telegram API
‚îÇ   ‚îú‚îÄ‚îÄ kp_pdf_generator.py # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä PDF –ö–ü
‚îÇ   ‚îú‚îÄ‚îÄ calculations.py    # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ rclick_service.py  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ri.rclick.ru
‚îú‚îÄ‚îÄ data/                  # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ rizalta_knowledge_base.txt # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π AI
‚îÇ   ‚îî‚îÄ‚îÄ units.json         # –ö–≤–∞—Ä—Ç–∏—Ä—ã
‚îú‚îÄ‚îÄ presentations/         # 6 PDF –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
‚îî‚îÄ‚îÄ videos/                # 9 –≤–∏–¥–µ–æ –ø—Ä–æ –ê–ª—Ç–∞–π
```

---

## ‚öôÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï

**Dev:**
```bash
cd /opt/bot-dev
systemctl restart rizalta-bot-dev
journalctl -u rizalta-bot-dev -f
```

**Prod:**
```bash
cd /opt/bot
systemctl restart rizalta-bot
journalctl -u rizalta-bot -f
```

**–î–µ–ø–ª–æ–π (dev ‚Üí prod):**
```bash
# 1. –¢–µ—Å—Ç –≤ dev, –ø–æ—Ç–æ–º:
cd /opt/bot-dev
git add -A && git commit -m "vX.X.X: –æ–ø–∏—Å–∞–Ω–∏–µ" && git push

# 2. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
cp /opt/bot-dev/[—Ñ–∞–π–ª—ã] /opt/bot/

# 3. –ö–æ–º–º–∏—Ç prod
cd /opt/bot
git add -A && git commit -m "vX.X.X: –æ–ø–∏—Å–∞–Ω–∏–µ" && git push
systemctl restart rizalta-bot
```

---

## üìä –ú–ï–¢–†–ò–ö–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ö–≤–∞—Ä—Ç–∏—Ä –≤ –±–∞–∑–µ | 369 |
| –¢–∏–ø–æ–≤ –ö–ü | 3 (100%, 12 –º–µ—Å, 12+24 –º–µ—Å) |
| –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π | 6 |
| –í–∏–¥–µ–æ | 9 |
| Uptime | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω |

---

## üö® –†–ò–°–ö–ò

| –†–∏—Å–∫ | –†–µ—à–µ–Ω–∏–µ |
|------|---------|
| Prod —É–ø–∞–ª | `systemctl restart rizalta-bot` + –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ |
| OpenAI –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω | –°–µ—Ä–≤–µ—Ä –≤ EU, –æ–±—Ö–æ–¥ –†–ö–ù |
| Telegram –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | Cloudflare Tunnel |
| –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö | Git + –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã –Ω–∞ email |

---

## üìù TASKS

### –°–µ–π—á–∞—Å
- [ ] –õ–∏—á–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á —Å AI (–≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥)

### Backlog
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è (—Ä–µ–∞–ª—å–Ω—ã–µ –§–ò–û, telegram_id)
- [ ] UptimeRobot (–≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É dev/prod
- [ ] –ú–∞–∑–æ–∫ –∫–∏—Å—Ç–∏ brush_stroke –¥–ª—è –ö–ü (–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω, –æ—Ç–∫–ª—é—á—ë–Ω)
- [ ] –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏

### –°–¥–µ–ª–∞–Ω–æ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ)
- [x] v1.9.6: –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ (6 —à—Ç), –í–∏–¥–µ–æ (9 —à—Ç), –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –ö–ü 100%
- [x] v1.9.5: –ö–ü 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞, —Ñ–∏–∫—Å–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç vs RIZALTA

---

## üìú CHANGELOG

**v1.9.6 (19.12.2025)**
- –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞: 6 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –º–µ–Ω—é –≤—ã–±–æ—Ä–∞
- –í–∏–¥–µ–æ –ø—Ä–æ –ê–ª—Ç–∞–π: 9 –≤–∏–¥–µ–æ (—Å–∂–∞—Ç—ã –¥–æ <50 –ú–ë)
- –ö–ü 100%: –Ω–æ–≤—ã–π –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –±–ª–æ–∫–æ–º –≤—ã–≥–æ–¥—ã
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã: "11 –ø–ª–∞—Ç–µ–∂–µ–π", "24 –ø–ª–∞—Ç–µ–∂–∞"

**v1.9.5 (18.12.2025)**
- –ö–ü: 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ (100%, 12 –º–µ—Å, 12+24 –º–µ—Å)
- –§–∏–∫—Å–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ ri.rclick.ru
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç vs RIZALTA (–¥–∞–Ω–Ω—ã–µ –¶–ë –†–§)

**v1.9.4 (11-12.12.2025)**
- Excel –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ROI
- SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ø–æ—Ä—Ç 2222, –∫–ª—é—á–∏)
- Health check –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üîÑ HANDOFF

### –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è: 19.12.2025

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- –î–æ–±–∞–≤–∏–ª–∏ 6 –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π –≤ –º–µ–Ω—é –ú–µ–¥–∏–∞
- –î–æ–±–∞–≤–∏–ª–∏ 9 –≤–∏–¥–µ–æ –ø—Ä–æ –ê–ª—Ç–∞–π (—Å–∂–∞—Ç—ã ffmpeg –¥–æ <50 –ú–ë)
- –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –ö–ü –ø—Ä–∏ 100% –æ–ø–ª–∞—Ç–µ (–¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout)
- –§—É–Ω–∫—Ü–∏—è send_video –≤ telegram.py
- –ò—Å–ø—Ä–∞–≤–∏–ª–∏ –±–∞–≥: send_document –±—ã–ª –æ–±—Ä–µ–∑–∞–Ω –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ send_video

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ Dev –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Prod –∑–∞–¥–µ–ø–ª–æ–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Git —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω (–æ–±–∞ —Ä–µ–ø–æ)

**–ß—Ç–æ –¥–∞–ª—å—à–µ:**
- –û–±—Å—É–¥–∏–ª–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ª–∏—á–Ω–æ–≥–æ AI –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á
- –û–±—Å—É–¥–∏–ª–∏ –∏–¥–µ—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏

**–û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á ‚Äî UI/UX –ø—Ä–æ–¥—É–º–∞–Ω, –Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å –¥–µ–ª–∞–µ–º –∏–ª–∏ –Ω–µ—Ç

---

## üìé –°–°–´–õ–ö–ò –ù–ê –§–ê–ô–õ–´

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/PROJECT.md
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/CLAUDE.md
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/PROJECT_HISTORY.md

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/app.py
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/handlers/kp.py
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/services/kp_pdf_generator.py
- https://raw.githubusercontent.com/semiekhin/rizalta-bot-dev/main/services/telegram.py
