# RIZALTA BOT ‚Äî –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
## –í–µ—Ä—Å–∏—è: v1.5.0

---

## üìÖ –°–µ—Å—Å–∏—è 07.12.2025

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

**AI Function Calling (5 –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π):**
- `send_presentation` ‚Äî "—Å–∫–∏–Ω—å –ø—Ä–µ–∑—É", "–¥–∞–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é"
- `open_fixation` ‚Äî "–∑–∞–∫—Ä–µ–ø–∏ –∫–ª–∏–µ–Ω—Ç–∞", "—Ñ–∏–∫—Å–∞—Ü–∏—è"
- `open_shahmatka` ‚Äî "—á—Ç–æ —Å–≤–æ–±–æ–¥–Ω–æ?", "—à–∞—Ö–º–∞—Ç–∫–∞"
- `send_documents` ‚Äî "–¥–∞–π –¥–æ–≥–æ–≤–æ—Ä", "–¥–æ–∫—É–º–µ–Ω—Ç—ã"
- `show_media` ‚Äî "–ø–æ–∫–∞–∂–∏ –≤–∏–¥–µ–æ", "–º–µ–¥–∏–∞"

**–ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –í—ã–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ ‚Üí –¥–∞—Ç–∞ ‚Üí –≤—Ä–µ–º—è
- –î–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (—Ä–∏—ç–ª—Ç–æ—Ä ‚Üí —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç)
- SQLite —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Whisper API
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–π —Ä–µ—á–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∫ —Ç–µ–∫—Å—Ç

**–ö–ü ‚Äî –∫–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ":**
- –ë—ã–ª–æ: —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ –≤—Å–µ —Ñ–∞–π–ª—ã
- –°—Ç–∞–ª–æ: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ª–æ—Ç—ã –∫–Ω–æ–ø–∫–∞–º–∏

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞:**
- Swap 1GB (–∑–∞—â–∏—Ç–∞ –æ—Ç OOM)
- fail2ban (3 IP —É–∂–µ –∑–∞–±–∞–Ω–µ–Ω–æ)
- –ê–≤—Ç–æ–±—ç–∫–∞–ø—ã –Ω–∞ email (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ 3:00 + –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –í—Å 4:00)
- Systemd —Å–µ—Ä–≤–∏—Å—ã (4 —à—Ç.) ‚Äî –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ webhook –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

**–ê–ø–≥—Ä–µ–π–¥ —Å–µ—Ä–≤–µ—Ä–∞:**
- –ë—ã–ª–æ: 1 CPU, 1GB RAM, 14GB –¥–∏—Å–∫
- –°—Ç–∞–ª–æ: 2 CPU, 4GB RAM, 50GB –¥–∏—Å–∫, 1 –ì–±–∏—Ç/—Å

### üü¢ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- –í–µ—Ä—Å–∏—è: v1.5.0
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç: ‚úÖ
- Webhook: ‚úÖ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫: ‚úÖ systemd
- –ë—ç–∫–∞–ø—ã: ‚úÖ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### üîú –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

1. **–î–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   - –ü–æ–ª—É—á–∏—Ç—å –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞: –§–ò–û, Telegram chat_id, Email
   - –û–±–Ω–æ–≤–∏—Ç—å SPECIALISTS –≤ handlers/booking_calendar.py

2. **–ö–æ–º–∞–Ω–¥–∞ /myid** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è chat_id
   - –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã —Å–º–æ–≥—É—Ç —É–∑–Ω–∞—Ç—å —Å–≤–æ–π ID —Å–∞–º–∏

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å SSH** (–Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
   - –°–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç 22 ‚Üí 2222
   - –û—Ç–∫–ª—é—á–∏—Ç—å root –ø–æ –ø–∞—Ä–æ–ª—é (—Ç–æ–ª—å–∫–æ SSH-–∫–ª—é—á)
   - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**–ù–æ–≤—ã–µ:**
- `handlers/booking_calendar.py` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `handlers/media.py` ‚Äî –º–µ–¥–∏–∞-–º–∞—Ç–µ—Ä–∏–∞–ª—ã
- `services/speech.py` ‚Äî Whisper API
- `backup.sh` ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø
- `backup_weekly.sh` ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –±—ç–∫–∞–ø
- `update_webhook.sh` ‚Äî –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ webhook

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ:**
- `app.py` ‚Äî callback'–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ–≤—ã–µ —Ä–æ—É—Ç—ã
- `services/ai_chat.py` ‚Äî 5 –Ω–æ–≤—ã—Ö AI-—Ñ—É–Ω–∫—Ü–∏–π (Function Calling)
- `handlers/ai_chat.py` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- `handlers/kp.py` ‚Äî –∫–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"
- `handlers/__init__.py` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- `services/telegram.py` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è download_file()
- `config/settings.py` ‚Äî –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–°–∏—Å—Ç–µ–º–Ω—ã–µ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):**
- `/etc/systemd/system/rizalta-bot.service`
- `/etc/systemd/system/cloudflare-rizalta.service`
- `/etc/systemd/system/oazis-bot.service`
- `/etc/systemd/system/cloudflare-oazis.service`
- `/swapfile` ‚Äî 1GB swap
- `crontab` ‚Äî –∑–∞–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–æ–≤

---

## üìÖ –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–µ—Å—Å–∏–∏

### –°–µ—Å—Å–∏—è 04-06.12.2025
- v1.3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã ROI –∏ —Ä–∞—Å—Å—Ä–æ—á–∫–∏ –¥–ª—è –≤—Å–µ—Ö 69 –ª–æ—Ç–æ–≤
- v1.3.2: –ü–ª–æ—â–∞–¥—å –∫–∞–∫ –∫–ª—é—á, –¥–æ–≥–æ–≤–æ—Ä—ã, –≥–æ—Å—Ç–∏–Ω–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å

---

## üöÄ –î–µ–ø–ª–æ–π

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh root@72.56.64.91

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
systemctl restart rizalta-bot

# –õ–æ–≥–∏
journalctl -u rizalta-bot -f

# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl status rizalta-bot cloudflare-rizalta --no-pager
```
