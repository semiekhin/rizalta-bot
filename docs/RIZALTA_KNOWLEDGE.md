# RIZALTA_KNOWLEDGE.md

## üß† –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –ø—Ä–æ–µ–∫—Ç–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ GPT Intent Router (v2.0)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
–°–æ–æ–±—â–µ–Ω–∏–µ (–≥–æ–ª–æ—Å/—Ç–µ–∫—Å—Ç) ‚Üí GPT Intent Router ‚Üí Handler
```

**–ì–¥–µ –∂–∏–≤—ë—Ç:**
- `services/intent_router.py` ‚Äî –º–µ—Ç–∞–∑–Ω–∞–Ω–∏—è + –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- –§—É–Ω–∫—Ü–∏—è `classify_intent(text)` ‚Üí `{"intent": str, "params": dict, "confidence": float}`

**15+ intent'–æ–≤:**
- `get_kp`, `calculate_roi`, `show_installment`, `compare_deposit`
- `open_fixation`, `open_shahmatka`, `book_showing`
- `send_documents`, `send_presentation`, `show_media`
- `create_task`, `show_schedule` (—Å–µ–∫—Ä–µ—Ç–∞—Ä—å)
- `show_news`, `chat`, `main_menu`

**–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:**
- "–æ—Ç–∫—Ä–æ–π —à–∞—Ö–º–∞—Ç–∫—É" ‚Üí `open_shahmatka` (–ù–ï `create_task`!)
- "–∑–∞–≤—Ç—Ä–∞ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –ò–≤–∞–Ω–æ–≤—É" ‚Üí `create_task`
- "–Ω–∞–ø–æ–º–Ω—é" (–æ—à–∏–±–∫–∞ Whisper) ‚Üí "–Ω–∞–ø–æ–º–Ω–∏" ‚Üí `create_task`

### AI-–°–µ–∫—Ä–µ—Ç–∞—Ä—å

**–§–∞–π–ª—ã:**
- `handlers/secretary.py` ‚Äî UI, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, callback'–∏
- `services/secretary_ai.py` ‚Äî GPT –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–¥–∞—á
- `services/secretary_db.py` ‚Äî SQLite –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```
Dev:  /opt/bot-dev/secretary.db
Prod: /opt/bot/secretary.db
```

**–¢–∞–±–ª–∏—Ü–∞ tasks:**
```sql
id, user_id, task_text, due_date, due_time, client_name,
priority, status, description, reminder_sent, created_at, completed_at
```

**‚ö†Ô∏è –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç** ‚Äî –Ω—É–∂–µ–Ω APScheduler

### –†–∞—Å—Å—Ä–æ—á–∫–∞ (v2.0.1)

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã (dev):**
| –ü–í | –£–¥–æ—Ä–æ–∂–∞–Ω–∏–µ | –°—Ä–æ–∫ |
|----|------------|------|
| 30% | +9% | 18 –º–µ—Å |
| 40% | +7% | 18 –º–µ—Å |
| 50% | +4% | 18 –º–µ—Å |

**–°—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã (prod):**
| –ü–í | –£–¥–æ—Ä–æ–∂–∞–Ω–∏–µ | –°—Ä–æ–∫ |
|----|------------|------|
| 30% | +12% | 24 –º–µ—Å |
| 40% | +9% | 24 –º–µ—Å |
| 50% | +6% | 24 –º–µ—Å |

**–§–∞–π–ª—ã —Ä–∞—Å—á—ë—Ç–æ–≤:**
- `services/kp_pdf_generator.py` ‚Äî PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü
- `services/calc_universal.py` ‚Äî —Ä–∞—Å—á—ë—Ç—ã –¥–ª—è UI "–†–∞—Å—á—ë—Ç—ã"‚Üí"–†–∞—Å—Å—Ä–æ—á–∫–∞"
- `services/calculations.py` ‚Äî –æ–±—â–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã

### –î–≤–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

| –†–µ–ø–æ | –ü—É—Ç—å | –ë–æ—Ç | –†–µ–∂–∏–º |
|------|------|-----|-------|
| rizalta-bot-dev | /opt/bot-dev | @rizaltatestdevop_bot | polling |
| rizalta-bot | /opt/bot | @RealtMeAI_bot | webhook |

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –≤ dev, –ø–æ—Ç–æ–º –¥–µ–ø–ª–æ–∏–º –≤ prod.

---

## üîß –ß–∞—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –°–µ—Ä–≤–µ—Ä
```bash
ssh -p 2222 root@72.56.64.91
```

### Dev
```bash
cd /opt/bot-dev
source venv/bin/activate
systemctl restart rizalta-bot-dev
journalctl -u rizalta-bot-dev -f
journalctl -u rizalta-bot-dev -f | grep -E "\[INTENT\]|\[ROUTER\]"
```

### Prod
```bash
cd /opt/bot
source venv/bin/activate
systemctl restart rizalta-bot
journalctl -u rizalta-bot -f
```

### Git
```bash
cd /opt/bot-dev
git add -A && git commit -m "vX.X.X: –æ–ø–∏—Å–∞–Ω–∏–µ" && git push

cd /opt/bot
git add -A && git commit -m "vX.X.X: –æ–ø–∏—Å–∞–Ω–∏–µ" && git push
```

### –¢–µ—Å—Ç –ö–ü
```bash
cd /opt/bot-dev
source venv/bin/activate
python3 -c "from services.kp_pdf_generator import generate_kp_pdf; print(generate_kp_pdf(code='–í101', include_18m=True, output_dir='/tmp'))"
```

### SQLite —Å–µ–∫—Ä–µ—Ç–∞—Ä—å
```bash
sqlite3 /opt/bot/secretary.db "SELECT * FROM tasks ORDER BY id DESC LIMIT 5;"
```

---

## üêõ –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ì–æ–ª–æ—Å —Å–æ–∑–¥–∞–≤–∞–ª –∑–∞–¥–∞—á—É –≤–º–µ—Å—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** "–æ—Ç–∫—Ä–æ–π —à–∞—Ö–º–∞—Ç–∫—É" ‚Üí —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –∑–∞–¥–∞—á–∞
**–ü—Ä–∏—á–∏–Ω–∞:** –†–µ–∂–∏–º —Å–µ–∫—Ä–µ—Ç–∞—Ä—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** GPT Intent Router —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

### 2. ImportError –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –≤ prod
**–ü—Ä–æ–±–ª–µ–º–∞:** `cannot import name 'handle_secretary_menu'`
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω `handlers/__init__.py`
**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 3. TypeError: unexpected keyword argument 'include_24m'
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Ä–∞–º–µ—Ç—Ä –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω, –Ω–æ handlers –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
**–ü—Ä–∏—á–∏–Ω–∞:** –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** 
```bash
sed -i 's/include_24m/include_18m/g' handlers/kp.py handlers/domoplaner.py app.py
```

### 4. ModuleNotFoundError: No module named 'requests'
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π venv –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
**–†–µ—à–µ–Ω–∏–µ:** `source /opt/bot-dev/venv/bin/activate`

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

1. [ ] –¢–µ—Å—Ç –≤ dev (@rizaltatestdevop_bot)
2. [ ] `git add -A && git commit && git push` (dev)
3. [ ] –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ /opt/bot
4. [ ] `systemctl restart rizalta-bot`
5. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `journalctl -u rizalta-bot -f`
6. [ ] –¢–µ—Å—Ç –≤ prod (@RealtMeAI_bot)
7. [ ] `git add -A && git commit && git push` (prod)

---

## üîÆ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ü–æ—á–µ–º—É GPT –≤–º–µ—Å—Ç–æ regex
- Regex –Ω–µ —Å–ø—Ä–∞–≤–ª—è–ª—Å—è —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º
- –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—à–∏–±–∫–∏ Whisper
- –†–µ–∂–∏–º —Å–µ–∫—Ä–µ—Ç–∞—Ä—è —Å–æ–∑–¥–∞–≤–∞–ª –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
- GPT –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ

### –ü–æ—á–µ–º—É SQLite –¥–ª—è —Å–µ–∫—Ä–µ—Ç–∞—Ä—è
- –ü—Ä–æ—Å—Ç–æ—Ç–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- –û—Ç–¥–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –æ—Ç properties.db
- –õ–µ–≥–∫–æ –±—ç–∫–∞–ø–∏—Ç—å

### –ü–æ—á–µ–º—É –¥–≤–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: prod –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
- –†–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤
- –†–∞–∑–Ω—ã–µ —Ä–µ–∂–∏–º—ã (webhook vs polling)

---

## –î–æ–±–∞–≤–ª–µ–Ω–æ 10.01.2026

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: PROD vs DEV

**–ü–†–ê–í–ò–õ–û:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¢–û–õ–¨–ö–û –≤ DEV ‚Üí —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –¥–µ–ø–ª–æ–π –≤ PROD

**Workflow:**
1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ `/opt/bot-dev/`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `systemctl restart rizalta-bot-dev`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ @rizaltatestdevop_bot
4. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ PROD: `cp /opt/bot-dev/file /opt/bot/file`
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `python3 -c "import app; print('OK')"`
6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PROD: `systemctl restart rizalta-bot`
7. –ö–æ–º–º–∏—Ç –≤ –æ–±–∞ —Ä–µ–ø–æ

### Mini App: –ø–æ—á–µ–º—É fetch() –∞ –Ω–µ tg.sendData()

**–ü—Ä–æ–±–ª–µ–º–∞:** `tg.sendData()` –º–æ–ª—á–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** `sendData()` —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û —Å KeyboardButton, –∞ Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ InlineKeyboardButton
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fetch()` —á–µ—Ä–µ–∑ Vercel proxy

### Mini App: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ PROD/DEV
```javascript
// App.jsx
const API_PATH = new URLSearchParams(window.location.search).get('env') === 'dev' 
  ? '/api-dev' 
  : '/api';
```

- PROD –±–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç: `https://rizalta-miniapp.vercel.app`
- DEV –±–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç: `https://rizalta-miniapp.vercel.app?env=dev`

### –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Ä–∞—Å—Å—Ä–æ—á–∫–∏ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥)

–§–æ—Ä–º—É–ª—ã —Ä–∞—Å—Å—Ä–æ—á–∫–∏ –≤ 3 —Ñ–∞–π–ª–∞—Ö ‚Äî –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–µ–Ω—è—Ç—å –í–°–ï:
1. `kp_generator.py` ‚Äî HTML –¥–ª—è PDF
2. `services/kp_pdf_generator.py` ‚Äî PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
3. `services/calc_universal.py` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### –£—Å–ª–æ–≤–∏—è —Ä–∞—Å—Å—Ä–æ—á–∫–∏ (–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–∞ 09.01.2026)

**12 –º–µ—Å—è—Ü–µ–≤ (–±–µ–∑ —É–¥–æ—Ä–æ–∂–∞–Ω–∏—è):**
- 30% –ü–í ‚Üí 12 —Ä–∞–≤–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- 40% –ü–í ‚Üí 11√ó200–ö + 12-–π –æ—Å—Ç–∞—Ç–æ–∫
- 50% –ü–í ‚Üí 11√ó100–ö + 12-–π –æ—Å—Ç–∞—Ç–æ–∫

**18 –º–µ—Å—è—Ü–µ–≤ (—Å —É–¥–æ—Ä–æ–∂–∞–Ω–∏–µ–º):**
- 30% –ü–í +9% ‚Üí 18 —Ä–∞–≤–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- 40% –ü–í +7% ‚Üí 8√ó250–ö + 9-–π (10%) + 8√ó250–ö + 18-–π –æ—Å—Ç–∞—Ç–æ–∫
- 50% –ü–í +4% ‚Üí 8√ó150–ö + 9-–π (10%) + 8√ó150–ö + 18-–π –æ—Å—Ç–∞—Ç–æ–∫

### PROJECT MEMORY SYSTEM v1.0 (–≤–Ω–µ–¥—Ä–µ–Ω–æ 10.01.2026)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
```
/opt/bot-dev/docs/
‚îú‚îÄ‚îÄ RIZALTA_CONTEXT.md      # –°—Ç–∞—Ç–∏–∫–∞ (~500 —Ç–æ–∫–µ–Ω–æ–≤) ‚Äî –í–°–ï–ì–î–ê –≤ —á–∞—Ç
‚îú‚îÄ‚îÄ RIZALTA_CURRENT.md      # –î–∏–Ω–∞–º–∏–∫–∞ (~500 —Ç–æ–∫–µ–Ω–æ–≤) ‚Äî –í–°–ï–ì–î–ê –≤ —á–∞—Ç
‚îú‚îÄ‚îÄ RIZALTA_ARCHITECTURE.md # –î–µ—Ç–∞–ª–∏ ‚Äî –ø–æ –∑–∞–ø—Ä–æ—Å—É
‚îú‚îÄ‚îÄ RIZALTA_KNOWLEDGE.md    # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π ‚Äî –ø–æ –∑–∞–ø—Ä–æ—Å—É
‚îî‚îÄ‚îÄ RIZALTA_TASKS.md        # –ë—ç–∫–ª–æ–≥ ‚Äî –ø–æ –∑–∞–ø—Ä–æ—Å—É
```

**–≠–∫–æ–Ω–æ–º–∏—è:** ~1000 —Ç–æ–∫–µ–Ω–æ–≤ –≤–º–µ—Å—Ç–æ ~20000 –Ω–∞ —Å—Ç–∞—Ä—Ç–µ —á–∞—Ç–∞

**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏:**
1. –û–±–Ω–æ–≤–∏—Ç—å docs/*.md –≤ DEV
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ PROD
3. –ö–æ–º–º–∏—Ç –æ–±–∞ —Ä–µ–ø–æ
4. –í—ã–¥–∞—Ç—å –±–ª–æ–∫ –¥–ª—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞

---

## –î–æ–±–∞–≤–ª–µ–Ω–æ 14.01.2026

### Custom Installment (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞—Å—Å—Ä–æ—á–∫–∏)

**–°–ø–∏—Å–æ–∫ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤:**
```python
CUSTOM_INSTALLMENT_UNITS = ['–í615', '–í527', '–í517', '–í617', '–í525', '–í625', '–ê101']
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- `services/kp_pdf_generator.py` ‚Äî PDF –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 2 –∫–æ–ª–æ–Ω–∫–∏ (—Ç–æ–ª—å–∫–æ 50% –ü–í)
- `handlers/kp.py` ‚Äî —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–ö–ü —Å —Ä–∞—Å—Å—Ä–æ—á–∫–æ–π 12+18 –º–µ—Å"

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç:**
1. –û—Ç–∫—Ä—ã—Ç—å `/opt/bot-dev/services/kp_pdf_generator.py`
2. –ù–∞–π—Ç–∏ `CUSTOM_INSTALLMENT_UNITS = [...]`
3. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –≤ —Å–ø–∏—Å–æ–∫
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å DEV, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
5. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ PROD, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

**–ü—Ä–∏–º–µ—Ä:**
```bash
# –î–æ–±–∞–≤–∏—Ç—å –í700:
sed -i "s/CUSTOM_INSTALLMENT_UNITS = \[/CUSTOM_INSTALLMENT_UNITS = ['–í700', /" /opt/bot-dev/services/kp_pdf_generator.py
```
